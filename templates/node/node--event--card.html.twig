{{ attach_library('atomic/reference-card') }}

{% set date__formatted %}
  {% include "@atoms/date-time/yds-date-time.twig" with {
    date_time__start: content.field_event_date.0.start_time['#markup'],
  } %}
{% endset %}

{% if content.field_event_format %}
  {% set reference_card__overline -%}
    {% include "@molecules/cards/reference-card/event/_yds-event-format.twig" with {
      format: content.field_event_format,
    } %}
  {%- endset %}
{% endif %}

{% set heading = content.field_teaser_title.0 ? content.field_teaser_title : label %}

{% embed "@molecules/cards/reference-card/yds-reference-card.twig" with {
  reference_card__heading: heading,
  reference_card__subheading: date__formatted,
  reference_card__url: url,
  reference_card__snippet: content.field_teaser_text,
  reference_card__image: 'true',
} %}
  {% block reference_card__image %}
    {{ content.field_teaser_media }}
  {% endblock %}
{% endembed %}
